<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Promise.prototype.then</title>
    <script>
    //then方法返回的是一个新的Promise实例（注意，不是原来那个Promise实例）。因此可以采用链式写法


    //getJSON("/posts.json").then(function(json) {
    //return json.post;
    //}).then(function(post) {
    // ...
    //});

    getJSON("/post/1.json").then(
        post => getJSON(post.commentURL)
    ).then(
        comments => console.log("Resolved: ", comments),
        err => console.log("Rejected: ", err)
    );

    //第一个then方法指定的回调函数，返回的是另一个Promise对象。这时，第二个then方法指定的回调函数，就会等待这个新的Promise对象状态发生变化。如果变为Resolved，就调用comments，如果状态变为Rejected，就调用err。
    </script>
</head>

<body>
</body>

</html>
