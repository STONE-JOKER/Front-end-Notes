[] == ![]   //true


首先，“！”是取反操作，空数组是对象，对象为真，取反之后就为false了。

然后，相等运算符的比较有指定的规则，具体请参阅诸如《JavaScript权威指南》或者《JavaScript高级程序设计》等书目。其中有两条指出：

1 如果其中一个值是true，则将其转换为1再进行比较。如果其中一个值是false，则将其转换为0再进行比较。

2 如果一个值是对象，另一个值是数字或字符串，则将对象转换为原始值再进行比较。对象通过toString()方法或valueOf()方法转换为原始值。JavaScript语言核心的内置类首先尝试使用valueOf()，在尝试使用toString()，除了日期类，日期类只使用toString()方法，那些不是JavaScript语言核心中的对象则通过各自实现中定义的方法转换为原始值。

有了以上两条作为基础，我们再来看问题。



[] == ![] [] == !true  //  ! 操作符的优先级高于 == ，所以先执行 ! 操作
[] == false  //  !true 得到的是 false
[] == 0  //比较规则1：如果值为true或false，则转成1或0来继续比较
[] == 0  //执行左侧的 [] 的 valueOf 方法，而 [] 是对象，所以 [].valueOf() 返回本身 []
"" == 0 //执行左侧的 [] 的 toString 方法，[].toString() 返回 ""
0 == 0  //比较规则2：如果一个值是数字，一个值是字符串，则把字符串转换为数字，再进行比较，"" 转成数字是 0。

最终是执行 0 == 0 ，结果为 true 。

